<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Part 0: NAVBAR -->
    <header>
        <nav>
            <a href="#about">ABOUT</a>
            <a href="#projects">PROJECTS</a>
            <a href="#skills">SKILLS</a>
            <a href="#education">EDUCATION</a>
            <a href="#contact">CONTACT</a>
        </nav>
    </header>

    <!-- Part 1: ABOUT section -->
    <section id="about">
        <div class="about-container">
            <div class="about-top">
                <div class="about-top-left">
                    <div class="avatar-container">
                        <img src="images/avatar.png" alt="Avatar" class="avatar">
                    </div>
                </div>
                <div class="about-top-right">
                    <p class="university-info">CURRENTLY PURSUING A BACHELOR OF SCIENCE DEGREE IN COMPUTER SCIENCE AT NORTH CAROLINA STATE UNIVERSITY</p>
                </div>
            </div>
            <div class="about-top-right">
                <p class="role">Software Engineer</p>
                <h1 class="intro">Hello, I'm Steven.</h1>
                <p class="description">I spend most of my time coding.</p>
            </div>
            <div class="about-footer">
                <div class="about-footer-left">
                    <button class="resume-button">Grab my resume</button>
                </div>
                <div class="about-footer-right">
                    <p class="email">stevenbui44@gmail.com</p>
                    <a href="mailto:stevenbui44@gmail.com" class="email-link">Craft an email</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Part 2: PROJECTS section -->
    <section id="projects">
        <h1>Projects</h1>
        <p>TODO: Add content about this section</p>
    </section>

    <!-- Part 3: SKILLS section -->
    <section id="skills">
        <h1>Skills</h1>
        <p>TODO: Add content about this section</p>
    </section>

    <!-- Part 4: EDUCATION section -->
    <section id="education">
        <h1>Education</h1>
        <p>TODO: Add content about this section</p>
    </section>

    <!-- Part 5: CONTACT section -->
    <section id="contact">
        <h1>Contact</h1>
        <p>TODO: Add content about this section</p>
    </section>

    <!-- Script 1: Navbar appears or disappears when you scroll up/down -->
    <script>
        // Last scroll position
        let lastScrollTop = 0;
        const header = document.querySelector('header');
        const headerHeight = header.offsetHeight;

        // Event listener when you scroll up or down
        window.addEventListener('scroll', () => {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (scrollTop > lastScrollTop) {
                // if scrolling down, bring the header up
                header.style.transform = `translateY(-${headerHeight}px)`;
            } 
            else {
                // if scrolling up, make the header reappear
                header.style.transform = 'translateY(0)';
            }
            lastScrollTop = Math.max(scrollTop, 0);
        }, false);
    </script>

    <!-- Script 2: Screen smoothly glides when you click on a navbar section link -->
    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                target.scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>

    <!-- Script 3: Shrinking the Contact section to show section underneath -->
    <script>
        // Initial height - 4rem of padding (now 8 for some reason)
        const contactSection = document.getElementById('contact');
        const initialWidth = contactSection.offsetWidth - (8 * parseFloat(getComputedStyle(document.documentElement).fontSize));

        // Event handler to resize the Contact section depending on where you are scrolling
        window.addEventListener('scroll', () => {
            const rect = contactSection.getBoundingClientRect();            
            const scrollPercentage = (window.innerHeight - rect.top) / rect.height;

            // Only start scaling to 85% + add gap when we're more than 90% through the section
            if (scrollPercentage > 0.9 && scrollPercentage <= 1) {
                const scaleFactor = 0.85 + (0.1 * (1 - scrollPercentage) * 10);
                contactSection.style.width = `${initialWidth * scaleFactor}px`;
                const gapHeight = 300 * (scrollPercentage - 0.9) / 0.1;
                contactSection.style.marginBottom = `${gapHeight}px`;
            } else if (scrollPercentage <= 0.9) {
                contactSection.style.width = `${initialWidth}px`;
                contactSection.style.marginBottom = '0px';
            }
        }, false);
    </script>


</body>
</html>
